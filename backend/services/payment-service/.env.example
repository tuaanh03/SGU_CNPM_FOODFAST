# ============================================
# PAYMENT SERVICE - BIẾN MÔI TRƯỜNG
# ============================================

PORT=4000

# --------------------------------------------
# DATABASE
# --------------------------------------------
# Docker-compose:
DATABASE_URL=postgresql://postgres:postgres@payment-db:5432/foodfast_payment?schema=public

# Railway (sẽ được cấp tự động):
# DATABASE_URL=postgresql://user:pass@host:port/dbname?schema=public


# --------------------------------------------
# VNPAY SANDBOX CREDENTIALS
# --------------------------------------------
VNPAY_TMN_CODE=X8XUBJ2R
VNPAY_HASH_SECRET=95LLG65MJJF49NCHOPDL90BE0SZ4CMQI
VNPAY_API_URL=https://sandbox.vnpayment.vn/paymentv2/vpcpay.html


# --------------------------------------------
# VNPAY RETURN URL (User redirect sau khi thanh toán)
# --------------------------------------------

# DOCKER-COMPOSE (Local dev với ngrok):
VNPAY_RETURN_URL=https://your-ngrok-url.ngrok-free.dev/payment-result

# RAILWAY/VERCEL PRODUCTION:
# VNPAY_RETURN_URL=https://sgu-cnpm-foodfast.vercel.app/payment-result

# Hoặc để trống, sẽ tự động dùng FRONTEND_URL + /payment-result


# --------------------------------------------
# VNPAY IPN URL (Server-to-server notification)
# ⚠️ QUAN TRỌNG: Phải config trong VNPay Merchant Portal
# --------------------------------------------

# DOCKER-COMPOSE (Local dev với ngrok):
VNPAY_IPN_URL=https://your-ngrok-url.ngrok-free.dev/api/payments/vnpay_ipn

# RAILWAY PRODUCTION:
# VNPAY_IPN_URL=https://api-gateway-service-production-04a1.up.railway.app/api/payments/vnpay_ipn

# ⚠️ Lưu ý: IPN URL phải config trong VNPay Sandbox Portal tại:
# https://sandbox.vnpayment.vn/merchantv2/
# Merchant Portal → Cấu hình → URL IPN


# --------------------------------------------
# FRONTEND URL (Redirect destination)
# --------------------------------------------

# DOCKER-COMPOSE:
FRONTEND_URL=http://localhost:3000

# VERCEL PRODUCTION:
# FRONTEND_URL=https://sgu-cnpm-foodfast.vercel.app


# --------------------------------------------
# API GATEWAY
# --------------------------------------------

# DOCKER-COMPOSE:
API_GATEWAY_URL=http://api-gateway:3000

# RAILWAY (internal):
# API_GATEWAY_URL=http://api-gateway.railway.internal:3000

