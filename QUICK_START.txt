â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘          HÆ¯á»šNG DáºªN NHANH - FIX NETWORK ERROR                   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## âœ… ÄÃƒ Sá»¬A XONG - Sáº´N SÃ€NG Sá»¬ Dá»¤NG

---

## ğŸ³ CHáº Y LOCAL (KHÃ”NG áº¢NH HÆ¯á»NG)

```bash
docker-compose up -d --build
```

âœ… Má»i thá»© hoáº¡t Ä‘á»™ng nhÆ° cÅ©
âœ… Frontend build vá»›i `/api` vÃ  dÃ¹ng HTTP
âœ… Nginx proxy tá»›i `http://api-gateway:3000`

**Truy cáº­p:**
- http://localhost (Customer)
- http://localhost:8080 (Merchant)
- http://localhost:8081 (Admin)

---

## ğŸš€ DEPLOY RAILWAY (Cáº¦N Cáº¤U HÃŒNH)

### BÆ°á»›c 1: Láº¥y API Gateway Domain

1. VÃ o Railway Dashboard
2. Click service **api-gateway**
3. Tab **Settings** â†’ Copy domain
4. VD: `api-gateway-production-abc.up.railway.app`

### BÆ°á»›c 2: Set Environment Variables

VÃ o service **cnpm-fooddelivery** â†’ **Variables** â†’ Add:

```
USE_HTTPS=true
API_GATEWAY_HOST=api-gateway-production-abc.up.railway.app
```

âš ï¸ **LÆ¯U Ã:**
- KHÃ”NG cÃ³ `https://`
- KHÃ”NG cÃ³ `/` á»Ÿ cuá»‘i
- CHá»ˆ domain name

### BÆ°á»›c 3: Deploy

```bash
git add .
git commit -m "Fix: Network error - Support Railway deployment"
git push
```

Railway sáº½ tá»± Ä‘á»™ng build vÃ  deploy.

### BÆ°á»›c 4: Kiá»ƒm tra

1. Má»Ÿ `https://<frontend-url>`
2. DevTools â†’ Console â†’ Kiá»ƒm tra khÃ´ng cÃ³ lá»—i
3. DevTools â†’ Network â†’ Xem request `/api/products`

âœ… Náº¿u tháº¥y status 200 â†’ THÃ€NH CÃ”NG!

---

## ğŸ“š TÃ€I LIá»†U CHI TIáº¾T

- **DEPLOYMENT_GUIDE.txt** - HÆ°á»›ng dáº«n Ä‘áº§y Ä‘á»§
- **CHANGES_SUMMARY.txt** - Danh sÃ¡ch thay Ä‘á»•i
- **FIX_NETWORK_ERROR.md** - Giáº£i thÃ­ch ká»¹ thuáº­t

---

## ğŸ› Náº¾U CÃ’N Lá»–I

### Lá»—i Network Error:
â†’ Kiá»ƒm tra `API_GATEWAY_HOST` Ä‘Ã£ Ä‘Ãºng chÆ°a
â†’ Kiá»ƒm tra `USE_HTTPS=true` Ä‘Ã£ set chÆ°a

### Lá»—i CORS:
â†’ Kiá»ƒm tra domain frontend cÃ³ trong `server.ts` chÆ°a

### Frontend hiá»ƒn thá»‹ trá»‘ng:
â†’ Xem Console logs cÃ³ lá»—i gÃ¬
â†’ Check Network tab xem API cÃ³ Ä‘Æ°á»£c gá»i khÃ´ng

---

## ğŸ’¡ TIPS

âœ… Railway máº¥t 1-2 phÃºt Ä‘á»ƒ apply env vars
âœ… Sau khi set env vars pháº£i Redeploy service
âœ… Test API Gateway trÆ°á»›c: `curl https://<api-gw-url>/api/products`
âœ… Xem Railway logs real-time Ä‘á»ƒ debug

---

CÃ“ THáº®C Máº®C? Äá»c DEPLOYMENT_GUIDE.txt

